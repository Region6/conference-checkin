<!--
   receipt.html

   Copyright 2013 Matthew Voss <mvoss@mvoss-laptop>

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 2 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program; if not, write to the Free Software
   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
   MA 02110-1301, USA.


-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>Receipt</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <meta name="generator" content="Geany 1.22" />
</head>

<body>
<style>
{literal}
/* invoice */

#container { font: 14px/1.4 Georgia, serif; margin: 1%; padding: 1% 1% 50px; background-color: white; }

table { border-collapse: collapse; }
table td, table th { border: 1px solid black; padding: 5px; }

#header { height: 45px; width: 100%; margin: 20px 0; background: #222; text-align: center; color: white; font: bold 25px Helvetica, Sans-Serif; text-decoration: uppercase; letter-spacing: 20px; padding: 8px 0px 0px; }

#header.clear { background: none !important; color: black !important; }

#identity { width: 100%; clear: both;}

#paymentAddress { width: 250px; height: 100px; float: left; }
#customer { overflow: hidden; width: 100%; }
#customerAddress { width: 250px; height: 100px; float: left; }
#conferenceName { text-align: right; float: right; position: relative; border: 1px solid #fff; max-width: 540px; max-height: 100px; overflow: hidden; font-weight: bold; font-size: 15px; }
#logoctr { display: none; }

#logohelp { text-align: left; display: none; font-style: italic; padding: 10px 5px;}
#logohelp input { margin-bottom: 5px; }

#customer-title { font-size: 20px; font-weight: bold; float: left; }

#meta { margin-top: 1px; width: 300px; float: right; }
#meta td { text-align: right;  }
#meta td.meta-head { text-align: left; background: #eee; }

#items { clear: both; width: 100%; margin: 30px 0 0 0; border: 1px solid black; }
#items th { background: #eee; font-weight: bold; text-align: center; }
#items textarea { width: 80px; height: 50px; }
#items tr.item-row td { border: 0; vertical-align: top; }

#items tr.item-row:nth-of-type(odd) {
  background-color: #eee;
}

#items td.description { width: 300px; }
#items td.item-name { width: 175px; }

#items td.total-line { border-right: 0; text-align: right; }
#items td.total-value { border-left: 0; padding: 10px; }
#items td.total-value  { height: 20px; background: none; }
#items td.total-line-balance { border-right: 0; text-align: right; background: #eee; }
#items td.blank { border: 0; }

#paymentHeader { margin-top: 40px; width: 100%; font-weight: bold; font-size: 20px; }
#payment { margin-top: 10px; width: 550px; }
#payment td { text-align: left;  }
#payment td.payment-head { text-align: left; background: #eee; width: 35%;}
.header { font-size: 13px; font-weight: bold; letter-spacing: 3px; }

.clear {
    clear: both;
}

.metadata {
    color: #828282;
    font-size: 14px;
}

.paymentStatus {
    font-size: 16px;
}

.paid {
    background-color: green;
    padding: 1px;
}

.paidHeader {

    width:1px;
    padding: 1px;
    border-right: 0px !important;

}

.itemHeader {

    border-left: 0px !important;

}

.unpaid {
    background-color: red;
}

#regIdContainer {

    float: left;
    margin-bottom: 10px;
    width: 100%;
}

#registrantId {
    font-weight: bold;
    font-size: 30px;
    width: 15%;
    float: right;
    text-align: right;
    padding: 15px 0px;
}

#checkedIn {

    float: left;
    width: 83%;
    border: 1px dashed #333333;
    background-color: #82E28A;
    padding: 15px 0px 15px 2%;
    font-weight: bold;
    font-size: 30px;

}

#notCheckedIn {
    float: left;
    width: 85%;

}
{/literal}
</style>

<div id="container">
    <div id="identity">

        <div id="header">
            {{#is payment.0.paid_amount 0}}Invoice{{else}}Receipt{{/is}}
        </div>

        <div id="paymentAddress">

            Region VI VPPPA<br />
            5120 Stagecoach Rd.<br />
            College Station, TX<br />
            77845

        </div>

        <div id="conferenceName">
            Region VI VPPPA 2013 Conference
        </div>

    </div>

    <div id="customer">

        <div id="customerAddress">
            {{firstname}} {{lastname}}<br />
            {{company}}<br />
            {{street1}}<br />
            {{#if street2}}
                {{street2}}<br />
            {{/if}}
            {{city}}, {{state}}, {{zipcode}}<br />
        </div>

        <table id="meta">

            <tbody>

                <tr>

                    <td class="meta-head">Registrant #</td>
                    <td>{{registrantId}}</td>

                </tr>
                <tr>

                    <td class="meta-head">Date</td>
                    <td>
                        <div id='date'>
                            {{now "%m/%d/%Y"}}
                        </div>
                    </td>

                </tr>
                <tr>

                    <td class="meta-head">Amount Due</td>
                    <td>
                        <div class='due'>
                                $0.00
                        </div>
                    </td>

                </tr>

            </tbody>

        </table>

    </div>

    <div style="text-align: right;">
        {{barcode}}
    </div>


    <table id="items">
        <tbody>

            <tr>

                <th class="paidHeader">
                    &nbsp;
                </th>

                <th class="itemHeader">
                    Item
                </th>

                <th>
                    Unit Cost
                </th>

                <th>
                    Quantity
                </th>

                <th>
                    Price
                </th>

            </tr>

            <tr>

                <td>
                    &nbsp;
                </td>

                <td>
                    {{event.title}}
                </td>

                <td>
                    ${{toFixed payment.0.fee 2}}
                </td>

                <td>
                    1
                </td>

                <td>
                    ${{toFixed payment.0.fee 2}}
                </td>

            </tr>


            <tr>

                <td colspan="2" class="blank"></td>
                <td colspan="2" class="total-line">Total</td>
                <td class="total-value">

                    <div id="total">${{toFixed payment.0.fee 2}}</div>

                </td>

            </tr>

            <tr>

                <td colspan="2" class="blank"></td>
                <td colspan="2" class="total-line">Amount Paid</td>
                <td class="total-value">

                    <div id="paid">${{toFixed payment.0.paid_amount 2}}</div>

                </td>

            </tr>


            <tr>

                <td colspan="2" class="blank"></td>
                <td colspan="2" class="total-line-balance">Balance Due</td>
                <td class="total-value">

                    <div id="due">
                            $0.00
                    </div>

                </td>

            </tr>

        </tbody>

    </table>

    <div id="paymentHeader">Payment Information</div>

    <table id="payment">
        <tbody>
            {{#each payment}}
                {{#is this.payment_method "2"}}
                <tr>
                    <td colspan="2" class="payment-head header">PAYMENT</td>
                </tr>
                <tr>
                    <td class="payment-head">Payment Type</td>
                    <td>Check</td>
                </tr>
                <tr>

                    <td class="payment-head">Amount</td>
                    <td>${{toFixed fee 2}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Check #</td>
                    <td>{{transaction_id}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Date</td>
                    <td>
                        <div id='date'>
                            {{formatDate register_date "%m/%d/%Y"}}
                        </div>
                    </td>

                </tr>
                {{/is}}
            {{/each}}
            {{#each creditCardTrans}}
                {{#is this.responseCode 1}}
                <tr>
                    <td colspan="2" class="payment-head header">PAYMENT</td>
                </tr>
                <tr>
                    <td class="payment-head">Payment Type</td>
                    <td>Credit Card</td>
                </tr>
                <tr>

                    <td class="payment-head">Amount</td>
                    <td>${{toFixed this.settleAmount 2}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Credit Card Type</td>
                    <td>{{this.cardType}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Credit Card #</td>
                    <td>{{this.cardNumber}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Expiration Date</td>
                    <td>{{this.expirationDate}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Reference Number</td>
                    <td>{{this.transId}}</td>

                </tr>
                <tr>

                    <td class="payment-head">Date</td>
                    <td>
                        <div id='date'>
                            {{this.settlementTimeLocal}}
                        </div>
                    </td>

                </tr>

                {{/is}}
            {{/each}}
        </tbody>

    </table>
</div>
</body>
</html>
